(function(){var c=YAHOO.util.Dom;Alfresco.AddEmailInvite=function(d){return Alfresco.AddEmailInvite.superclass.constructor.call(this,"Alfresco.AddEmailInvite",d)};YAHOO.extend(Alfresco.AddEmailInvite,Alfresco.component.Base,{onReady:function a(){this.widgets.addEmailButton=Alfresco.util.createYUIButton(this,"add-email-button",this.addEmailButtonClick);var d=new Alfresco.forms.Form(this.id+"-form");this.widgets.form=d;d.setSubmitElements(this.widgets.addEmailButton);d.addValidation(this.id+"-firstname",Alfresco.forms.validation.mandatory,null,"keyup");d.addValidation(this.id+"-lastname",Alfresco.forms.validation.mandatory,null,"keyup");d.addValidation(this.id+"-email",Alfresco.forms.validation.mandatory,null,"keyup");d.addValidation(this.id+"-email",Alfresco.forms.validation.email,null,"change");d.init()},addEmailButtonClick:function b(k,l){if(this.widgets.form.validate()){var h=YAHOO.util.Dom.get(this.id+"-firstname"),i=h.value,d=YAHOO.util.Dom.get(this.id+"-lastname"),g=d.value,j=YAHOO.util.Dom.get(this.id+"-email"),f=j.value;YAHOO.Bubbling.fire("personSelected",{firstName:i,lastName:g,email:f});h.value="";d.value="";j.value=""}else{Alfresco.util.PopupManager.displayMessage({text:this.msg("addemail.mandatoryfieldsmissing")});return}}})})();