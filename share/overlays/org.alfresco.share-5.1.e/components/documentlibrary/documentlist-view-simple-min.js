(function(){var d=YAHOO.util.Dom;var b=Alfresco.util.encodeHTML;Alfresco.DocumentListSimpleViewRenderer=function(g,h,i){Alfresco.DocumentListSimpleViewRenderer.superclass.constructor.call(this,g,h,i);this.actionsColumnWidth=80;this.actionsSplitAtModifier=0;return this};YAHOO.extend(Alfresco.DocumentListSimpleViewRenderer,Alfresco.DocumentListViewRenderer);Alfresco.DocumentListSimpleViewRenderer.prototype.renderCellThumbnail=function e(v,u,w,q,m){var p=w.getData(),n=p.jsNode,s=n.properties,i=p.displayName,l=n.isContainer,o=n.isLink,r=i.substring(i.lastIndexOf(".")),h=n.nodeRef.nodeRef;var t;q.width=40;d.setStyle(u,"width",q.width+"px");d.setStyle(u.parentNode,"width",q.width+"px");if(l){u.innerHTML='<span class="folder-small">'+(o?'<span class="link"></span>':"")+(v.dragAndDropEnabled?'<span class="droppable"></span>':"")+Alfresco.DocumentList.generateFileFolderLinkMarkup(v,p)+'<img id="'+h+'" src="'+this.getFolderIcon(p.node)+'" /></a>';t=new YAHOO.util.DDTarget(h)}else{var k=v.id+"-preview-"+w.getId();var g=Alfresco.util.getFileIcon(i);if(g=="generic-file-32.png"){g=Alfresco.util.getFileIconByMimetype(n.mimetype)}u.innerHTML='<span id="'+k+'" class="icon32">'+(o?'<span class="link"></span>':"")+Alfresco.DocumentList.generateFileFolderLinkMarkup(v,p)+'<img id="'+h+'" src="'+Alfresco.constants.URL_RESCONTEXT+"components/images/filetypes/"+g+'" alt="'+r+'" title="'+b(i)+'" /></a></span>';v.previewTooltips.push(k)}var j=new Alfresco.DnD(h,v)};Alfresco.DocumentListSimpleViewRenderer.prototype.getDefaultFolderIcon=function a(){return"components/documentlibrary/images/folder-32.png"};Alfresco.DocumentListSimpleViewRenderer.prototype.getIconSize=function c(){return"32x32"};Alfresco.DocumentListSimpleViewRenderer.prototype.setupRenderer=function f(g){d.addClass(g.id+this.buttonElementIdSuffix,this.buttonCssClass);g.widgets.previewTooltip=new YAHOO.widget.Tooltip(g.id+"-previewTooltip",{width:"108px"});g.widgets.previewTooltip.contextTriggerEvent.subscribe(function(k,i){var j=i[0],l=g.widgets.dataTable.getRecord(j.id),h=l.getData();this.cfg.setProperty("text",'<img src="'+Alfresco.DocumentList.generateThumbnailUrl(h)+'" />')})}})();