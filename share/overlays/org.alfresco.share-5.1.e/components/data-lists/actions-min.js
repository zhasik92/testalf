(function(){var b=YAHOO.Bubbling;Alfresco.service.DataListActions={};Alfresco.service.DataListActions.prototype={onActionDelete:function c(g){var i=this,d=YAHOO.lang.isArray(g)?g:[g];var f=function k(l){var o=[];for(var m=0,n=l.length;m<n;m++){o.push(l[m].nodeRef)}this.modules.actions.genericAction({success:{event:{name:"dataItemsDeleted",obj:{items:l}},message:this.msg("message.delete.success",l.length)},failure:{message:this.msg("message.delete.failure")},webscript:{method:Alfresco.util.Ajax.DELETE,name:"items"},config:{requestContentType:Alfresco.util.Ajax.JSON,dataObj:{nodeRefs:o}}})};Alfresco.util.PopupManager.displayPrompt({title:this.msg("message.confirm.delete.title",d.length),text:this.msg("message.confirm.delete.description",d.length),buttons:[{text:this.msg("button.delete"),handler:function h(){this.destroy();f.call(i,d)}},{text:this.msg("button.cancel"),handler:function e(){this.destroy()},isDefault:true}]});var j=Dom.getElementsByClassName("yui-button","span","prompt");Dom.addClass(j[0],"alf-primary-button")},onActionDuplicate:function a(h){var j=this,e=YAHOO.lang.isArray(h)?h:[h],d=new Alfresco.util.NodeRef(this.modules.dataGrid.datalistMeta.nodeRef),k=[];for(var f=0,g=e.length;f<g;f++){k.push(e[f].nodeRef)}this.modules.actions.genericAction({success:{event:{name:"dataItemsDuplicated",obj:{items:e}},message:this.msg("message.duplicate.success",e.length)},failure:{message:this.msg("message.duplicate.failure")},webscript:{method:Alfresco.util.Ajax.POST,name:"duplicate/node/"+d.uri},config:{requestContentType:Alfresco.util.Ajax.JSON,dataObj:{nodeRefs:k}}})}}})();