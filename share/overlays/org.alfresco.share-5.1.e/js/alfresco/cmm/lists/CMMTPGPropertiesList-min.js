define(["dojo/_base/declare","cmm/lists/CMMTPGList","dojo/_base/lang","cmm/CMMConstants","dijit/registry"],function(d,a,g,e,c){return d([a],{syncNodesTopic:"",_updateCoreHashVars:function b(i){g.mixin(this,i);if(i.propertygroup){this.type=null}if(i.type){this.propertygroup=null}this.updateLoadDataPayload({name:this.model,type:this.type,propertygroup:this.propertygroup});this.alfPublish(e.UPDATE_TPG_HEADING,{label:this.model+" - "+(this.type||this.propertygroup)})},onDataLoadSuccess:function h(k){this.inherited(arguments);if(this.syncNodesTopic!=""){this._syncCallBackHandle=this.alfSubscribe(this.syncNodesTopic+"_CALLBACK",g.hitch(this,this.syncNodes),true);var i=g.getObject("viewMap.Abstract.docListRenderer.sourceTarget",false,this);if(i!=null){var j=i.getAllNodes();this.alfPublish(this.syncNodesTopic,j,true)}}},syncNodes:function f(l){this.alfUnsubscribe(this._syncCallBackHandle);var m=g.getObject("viewMap.Abstract.docListRenderer.sourceTarget",false,this),t=/\[([^\]]+)\]/;if(m!=null){var u=m.getAllNodes();for(var q=0;q<u.length;++q){var n=c.byId(u[q].firstChild.id),w=false,r=n.title.match(t),s=r?r[1]:n.title;for(var p=0;p<l.length;++p){var o=c.byId(l[p].id),v=o.label.match(t),k=v?v[1]:o.label;if(s===k){w=true;break}}if(w){n.destroyRecursive()}}}}})});