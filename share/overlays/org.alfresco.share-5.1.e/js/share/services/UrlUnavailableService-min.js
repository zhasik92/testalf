define(["dojo/_base/declare","dojo/_base/lang","alfresco/core/Core","alfresco/core/CoreXhr","service/constants/Default"],function(g,b,c,h,e){return g([c,h],{constructor:function i(j){g.safeMixin(this,j);b.mixin(this,j);if(j.httpStatusCode){var k=this;k.handleError(j)}},handleError:function f(k){var j=e.URL_CONTEXT+"error500.jsp";this.serviceXhr({url:j,method:"GET",successCallback:this._errorPageLoaded,failureCallback:this._errorPageLoadedFailed,callbackScope:this})},_errorPageLoaded:function a(j){document.open();document.write(j);document.close()},_errorPageLoadedFailed:function d(j){this.alfLog("error","Could not load error page",j)}})});